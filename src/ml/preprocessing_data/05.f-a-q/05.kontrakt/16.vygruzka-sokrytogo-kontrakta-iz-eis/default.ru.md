---
title: 'Выгрузка сокрытого контракта из ЕИС'
media_order: '1.png,2.png,3.png,4.png,5.png,6.png,7.png'
---

## [center]**Перевод сокрытого контракта в ручном режиме в опубликованное состояние в РИС**[/center]
* Напоминаем вам, что для корректной работы по сокрытым документам (в том числе контрактами) необходимо, чтобы присутствовала связка заказчика с РИС. Смотрим инструкцию **«Связь организации заказчика с региональной информационной системой.doc».**
* Если на момент регистрации документа в ЕИС связи не было, то необходимо прописать связь с РИС и поступить одним из способов:
1. Завести обращение в ЕИС с просьбой повторной выгрузки файлов в очередь отдачи непубличных документов для РИС. В случае повторной выгрузки данных со стороны ЕИС штатно будут обработаны выгруженные сведения РИС. При заведении обращение надо указывать код РИС буквенный и цифровой.
2. В личном кабинете заказчика в ЕИС получить информацию о документе в xml формате и предоставить полученный файл администратору Системы. В таком случае надо воспользоваться порядком действий, описанных в п. 1. **«Получение xml- файла контракта в ЛК заказчика в ЕИС»** данной инструкции.
 
## [center]**1. ПОЛУЧЕНИЕ XML- ФАЙЛА КОНТРАКТА В ЛК ЗАКАЗЧИКА В ЕИС**[/center]
* В личном кабинете заказчика в ЕИС надо зайти в раздел **«Реестр контрактов»** [(*Рисунок 1*)](#ris-1).
![Рисунок 1.](1.png?id=ris-1)
* В открывшемся реестре надо перейти во вкладку **«Исполнение»** или **«Все этапы»**[(*Рисунок 2*)](#ris-1).
![Рисунок 2.](2.png?id=ris-1)
* В открывшейся вкладке надо найти требуемый контракт с использованием режима **«Параметры поиска»**. Данная процедура необходима для получения xml- файла только требуемого контракта.[(*Рисунок 3*)](#ris-1).
![Рисунок 3.](3.png?id=ris-1)
* Для выгрузки xml- файла по искомому контракту надо кликнуть по кнопке **[Выгрузить найденные записи в xml]**[(*Рисунок 4*)](#ris-1).
![Рисунок 4.](4.png?id=ris-1)
* В окне подтверждения действия надо нажать кнопку **[ДА]**[(*Рисунок 5*)](#ris-1).
![Рисунок 5.](5.png?id=ris-1)
* В результате будет сформирован архив с наименованием **«export.zip»**. В архиве будет располагаться один xml- файл с наименованием **«export.xml»**.[(*Рисунок 6*)](#ris-1).
![Рисунок 6.](6.png?id=ris-1)

##  [center]**2. ОБРАБОТКА ПОЛУЧЕННОГО XML- ФАЙЛА БОТОМ**[/center]
* Администраторам Системы полученный от заказчика xml- файл следует через веб интерфейс бота передать на обработку. Инструкция по использованию данного режима отражена в п. «*1.9.2. Работа с асинхронным сервисом через веб-интерфейс*»  руководства администратора. [Ссылка на инструкцию](https://www.keysystems.ru/products/government-purchases/web-torgi-ks/)*
* Перед тем как передать полученный от заказчика файл на обработку боту рекомендуется открыть содержимое файла и проверить полученные данные. В режиме импорта в отношении контракта выгружается не только информация о контракте, но и о исполнении контракта [(*Рисунок 7*)](#ris-1).
![Рисунок 7.](7.png?id=ris-1)
* Если экспортированный из ЕИС xml- файл в себе будет содержать контейнеры контракта и его исполнений, то этот файл в режиме работы через веб-интерфейс бота можно передать как для обработки данных по контрактам, так и для обработки данных по исполнениям контрактов. Бот самостоятельно отсеет лишние контейнеры и обработает только соответствующие текущему режиму обработки данные.
* Для успешной обработки информации о контракте надо в блоке сведений о контракте **«closedContract»** проверить значение тега **«id»**. Он должен совпадать с идентификатором в контракте в Системе. Если в xml- файле при этом будет содержаться как показано на примере контейнер со сведениями о исполнении контракта **«contractProcedure»**, то он будет проигнорирован и будет обработан только контейнер **«closedContract»**.
* Для тех, кто вручную закидывает xml- файл в папку с ботом на веб сервер. Xml- файл с наименованием **«export»** никак не будет обработан ботом. Для успешной обработки он должен в начале имени содержать маску **«contract_»**. В наименовании файла после нижнего подчеркивания рекомендуется поставить любые цифры, как вариант, реестровый номер контракта. Пример: **contract_23454543.xml**.
* Для загрузки сведений об исполнении контракта наименование xml- файла должно начинаться по маске **«contractProcedure_»** и далее после нижнего подчеркивание написать любые цифры. В этом случае бот обработает данные из контейнеров **«contractProcedure»**, а данные из контейнеров «closedContract» будут проигнорированы. Пример для исполнения контракта: **contractProcedure_76453874.xml**.